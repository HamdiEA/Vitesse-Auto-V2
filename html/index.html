<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vitesse-Auto - Location de Voitures de Luxe</title>
    <meta name="description" content="Vitesse-Auto - Location de voitures premium et de luxe. BMW, Audi, Volkswagen. Expérience de conduite exceptionnelle.">
    <link rel="stylesheet" href="../styles/modern.css">
    <link rel="icon" href="../images/logo.png" type="image/png">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
</head>
  <body>
    <!-- Modern Navigation -->
    <nav class="navbar-modern" id="navbar">
      <div class="nav-container">
        <div class="logo-container">
          <img src="../images/logo.png" alt="Vitesse-Auto Logo" class="logo">
          <a href="index.html" class="brand-name">Vitesse-Auto</a>
        </div>
        
        <ul class="nav-menu">
          <li><a href="#accueil" class="nav-link">Accueil</a></li>
          
          <li><a href="bmw.html" class="nav-link">BMW</a></li>
          <li><a href="Audi.html" class="nav-link">Audi</a></li>
          <li><a href="vw.html" class="nav-link">Volkswagen</a></li>
          <li><a href="contact.html" class="nav-link">Contact</a></li>
        </ul>
        
        <button class="mobile-menu-toggle" id="mobileMenuToggle">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="accueil">
      <div class="hero-content">
        <h1>Bienvenue sur Vitesse-Auto</h1>
        <p>Découvrez notre flotte de véhicules premium et de luxe. Une expérience de conduite exceptionnelle vous attend.</p>
        <a href="#collection" class="btn-modern btn-primary">Explorer notre collection</a>
      </div>
    </section>

    <!-- Modern Carousel -->
    <section class="container-modern">
      <div class="carousel-modern">
        <div class="carousel-inner" id="heroCarousel">
          <div class="carousel-item active">
            <img src="../images/DB2025AU00189_web_1600.webp" alt="Audi Premium">
          </div>
          <div class="carousel-item">
            <img src="../images/bmw-4556370_1280.webp" alt="BMW Performance">
          </div>
          <div class="carousel-item">
            <img src="../images/R8.jpg" alt="Audi R8 Supercar">
          </div>
        </div>
      </div>
    </section>

    <!-- Cars Grid Section -->
    <section class="container-modern" id="collection">
      <div class="text-center mb-5">
        <h2 class="text-light mb-3">Notre Collection Premium</h2>
        <p class="text-light opacity-8">Choisissez parmi notre sélection de véhicules d'exception</p>
      </div>
      
      <div class="car-grid" id="carGrid">
        <!-- Cars will be dynamically loaded here -->
        <div class="loading text-center">
          <div class="loading mx-auto"></div>
          <p class="mt-3">Chargement des véhicules...</p>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="container-modern">
      <div class="text-center mb-5">
        <h2 class="text-light mb-3">Pourquoi choisir Vitesse-Auto ?</h2>
        <p class="text-light opacity-8">Des services exceptionnels pour une expérience inoubliable</p>
      </div>
      
      <div class="car-grid">
        <div class="car-card">
          <div class="text-center p-4">
            <i class="fas fa-car text-primary mb-3" style="font-size: 3rem;"></i>
            <h3 class="car-card-title">Véhicules Premium</h3>
            <p>Une sélection rigoureuse des meilleures marques et modèles du marché automobile.</p>
          </div>
        </div>
        
        <div class="car-card">
          <div class="text-center p-4">
            <i class="fas fa-shield-alt text-primary mb-3" style="font-size: 3rem;"></i>
            <h3 class="car-card-title">Assurance Complète</h3>
            <p>Conduisez en toute tranquillité avec notre couverture assurance complète.</p>
          </div>
        </div>
        
        <div class="car-card">
          <div class="text-center p-4">
            <i class="fas fa-headset text-primary mb-3" style="font-size: 3rem;"></i>
            <h3 class="car-card-title">Service 24/7</h3>
            <p>Notre équipe d'experts est disponible à tout moment pour vous assister.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Modern Footer -->
    <footer class="footer-modern">
      <div class="footer-content">
        <div class="footer-logo">
          <img src="../images/logo.png" alt="Vitesse-Auto" class="logo mb-3">
        </div>
        
        <div class="footer-links">
          <a href="index.html" class="footer-link">Accueil</a>
          <a href="bmw.html" class="footer-link">BMW</a>
          <a href="Audi.html" class="footer-link">Audi</a>
          <a href="vw.html" class="footer-link">Volkswagen</a>
          <a href="contact.html" class="footer-link">Contact</a>
        </div>
        
        <div class="footer-copyright">
          <p>&copy; 2025 Vitesse-Auto - Tous droits réservés</p>
        </div>
      </div>
    </footer>

    <!-- Modern JavaScript -->
    <script>
        // Modern Carousel functionality
        let currentSlide = 0;
        const carousel = document.getElementById('heroCarousel');
        const slides = carousel.getElementsByClassName('carousel-item');
        
        function showSlide(index) {
            for (let i = 0; i < slides.length; i++) {
                slides[i].classList.remove('active');
            }
            slides[index].classList.add('active');
        }
        
        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }
        
        // Auto-advance carousel
        setInterval(nextSlide, 4000);
        
        // Load cars from API
        async function loadCars() {
            console.log('Starting to load cars...');
            const carGrid = document.getElementById('carGrid');
            
            try {
                console.log('Fetching cars from /api/cars...');
                const response = await fetch('/api/cars');
                console.log('Response status:', response.status);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const cars = await response.json();
                console.log('Cars loaded:', cars.length);
                
                carGrid.innerHTML = '';
                
                cars.forEach(car => {
                    console.log('Processing car:', car.name);
                    const carCard = document.createElement('div');
                    carCard.className = 'car-card';
                    carCard.innerHTML = `
                        <img src="${car.image}" alt="${car.name}" class="car-card-image">
                        <div class="car-card-content">
                            <h3 class="car-card-title">${car.name}</h3>
                            <div class="car-card-price">€${car.price}/jour</div>
                            <span class="status-badge ${car.available ? 'status-available' : 'status-unavailable'}">
                                ${car.available ? 'Disponible' : 'Non disponible'}
                            </span>
                            <p class="mt-3 opacity-8">${car.category}</p>
                            <a href="${car.model}.html" class="btn-modern ${car.available ? 'btn-primary' : 'btn-danger'} mt-3">
                                ${car.available ? 'Voir les détails' : 'Indisponible'}
                            </a>
                        </div>
                    `;
                    carGrid.appendChild(carCard);
                });
                
                console.log('Cars successfully displayed');
                
            } catch (error) {
                console.error('Error loading cars:', error);
                carGrid.innerHTML = `
                    <div class="text-center text-light">
                        <p>Erreur lors du chargement des véhicules.</p>
                        <p class="text-warning">Erreur: ${error.message}</p>
                        <button onclick="loadCars()" class="btn-modern btn-primary mt-2">Réessayer</button>
                    </div>
                `;
            }
        }
        
        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });
        
        // Mobile menu toggle
        document.getElementById('mobileMenuToggle').addEventListener('click', function() {
            const navMenu = document.querySelector('.nav-menu');
            navMenu.style.display = navMenu.style.display === 'flex' ? 'none' : 'flex';
            navMenu.style.position = 'absolute';
            navMenu.style.top = '100%';
            navMenu.style.left = '0';
            navMenu.style.right = '0';
            navMenu.style.background = 'rgba(15, 23, 42, 0.98)';
            navMenu.style.flexDirection = 'column';
            navMenu.style.padding = '1rem';
        });
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadCars();
        });
    </script>
  </body>
</html>